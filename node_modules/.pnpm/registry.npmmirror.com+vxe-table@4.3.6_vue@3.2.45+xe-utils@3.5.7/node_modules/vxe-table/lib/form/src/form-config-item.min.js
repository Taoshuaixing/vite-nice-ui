"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_vXETable=require("../../v-x-e-table"),_utils=require("../../tools/utils"),_vn=require("../../tools/vn"),_render=require("./render"),_util=require("./util");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,l=arguments.length;i<l;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},VxeFormConfigItem=(0,_vue.defineComponent)({name:"VxeFormConfigItem",props:{itemConfig2:Object,itemConfig:Object},setup:function(T){var w=(0,_vue.inject)("$xeform",{}),e={itemConfig:T.itemConfig};(0,_vue.provide)("$xeformiteminfo",e),(0,_vue.provide)("$xeformgather",null);return{renderVN:function(){var e=w.reactData,t=w.props,i=t.data,l=t.rules,n=t.span,r=t.align,o=t.titleAlign,s=t.titleWidth,u=t.titleColon,a=t.titleAsterisk,t=t.titleOverflow,f=w.getComputeMaps().computeValidOpts,d=T.itemConfig,e=e.collapseAll,f=f.value,c=d.slots,v=d.title,_=d.visible,m=d.folding,g=d.field,x=d.collapseNode,p=d.itemRender,h=d.showError,C=d.errRule,N=d.className,q=d.titleOverflow,U=d.children,O=(0,_utils.isEnableConf)(p)?_vXETable.VXETable.renderer.get(p.name):null,b=O?O.itemClassName:"",F=c?c.default:null,c=c?c.title:null,n=d.span||n,r=d.align||r,o=_xeUtils.default.eqNull(d.titleAlign)?o:d.titleAlign,s=_xeUtils.default.eqNull(d.titleWidth)?s:d.titleWidth,u=_xeUtils.default.eqNull(d.titleColon)?u:d.titleColon,a=_xeUtils.default.eqNull(d.titleAsterisk)?a:d.titleAsterisk,t=_xeUtils.default.isUndefined(q)||_xeUtils.default.isNull(q)?t:q,q="title"===t,V=!0===t||"tooltip"===t,t=q||V||"ellipsis"===t,y={data:i,field:g,property:g,item:d,$form:w};return!1===_?(0,_vue.createCommentVNode)():(_=!1,l&&(l=l[g])&&(_=l.some(function(e){return e.required})),U&&0<U.length?(l=U.map(function(e,t){return(0,_vue.h)(VxeFormConfigItem,{key:t,itemConfig:e})})).length?(0,_vue.h)("div",{class:["vxe-form--gather vxe-row",d.id,n?"vxe-col--".concat(n," is--span"):"",N?_xeUtils.default.isFunction(N)?N(y):N:""]},l):(0,_vue.createCommentVNode)():(U=[],F?U=w.callSlot(F,y):O&&O.renderItemContent?U=(0,_vn.getSlotVNs)(O.renderItemContent(p,y)):g&&(U=[_xeUtils.default.toValueString(_xeUtils.default.get(i,g))]),x&&U.push((0,_vue.h)("div",{class:"vxe-form--item-trigger-node",onClick:w.toggleCollapseEvent},[(0,_vue.h)("span",{class:"vxe-form--item-trigger-text"},e?_conf.default.i18n("vxe.form.unfolding"):_conf.default.i18n("vxe.form.folding")),(0,_vue.h)("i",{class:["vxe-form--item-trigger-icon",e?_conf.default.icon.FORM_FOLDING:_conf.default.icon.FORM_UNFOLDING]})])),C&&f.showMessage&&U.push((0,_vue.h)("div",{class:"vxe-form--item-valid",style:C.maxWidth?{width:"".concat(C.maxWidth,"px")}:null},C.content)),l=V?{onMouseenter:function(e){w.triggerTitleTipEvent(e,y)},onMouseleave:w.handleTitleTipLeaveEvent}:{},(0,_vue.h)("div",{class:["vxe-form--item",d.id,n?"vxe-col--".concat(n," is--span"):"",N?_xeUtils.default.isFunction(N)?N(y):N:"",b?_xeUtils.default.isFunction(b)?b(y):b:"",{"is--title":v,"is--colon":u,"is--asterisk":a,"is--required":_,"is--hidden":m&&e,"is--active":(0,_util.isActivetem)(w,d),"is--error":h}],itemConfig:d,key:d.id},[(0,_vue.h)("div",{class:"vxe-form--item-inner"},[v||c?(0,_vue.h)("div",__assign({class:["vxe-form--item-title",o?"align--".concat(o):null,{"is--ellipsis":t}],style:s?{width:isNaN(s)?s:"".concat(s,"px")}:null,title:q?(0,_utils.getFuncText)(v):null},l),(0,_render.renderTitle)(w,d)):null,(0,_vue.h)("div",{class:["vxe-form--item-content",r?"align--".concat(r):null]},U)])])))}}},render:function(){return this.renderVN()}}),_default=VxeFormConfigItem;exports.default=_default;